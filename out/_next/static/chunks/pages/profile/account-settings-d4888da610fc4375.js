(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5121],{29413:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile/account-settings",function(){return n(63153)}])},30622:function(e,t,n){"use strict";var s=n(85893);t.Z=function(e){var t=e.onClick,n=void 0===t?function(){}:t,i=e.onChange,a=e.name,r=e.value,o=e.type,l=void 0===o?"text":o,c=e.label,d=e.placeholder,u=e.className,m=void 0===u?"":u,f=e.className2,x=void 0===f?"":f,h=e.className3,v=void 0===h?"":h,p=e.className4,g=void 0===p?"":p,j=e.is_readonly,b=void 0!==j&&j,w=e.no_label,N=void 0!==w&&w,y=e.icon,_=void 0===y?null:y,C=e.pipe,k=void 0!==C&&C,F=e.textarea,S=void 0!==F&&F,P=e.rows,I=void 0===P?3:P,B=e.cols,T=void 0===B?15:B,O=e.required,A=void 0!==O&&O,Z=e.minLength,L=void 0===Z?0:Z,E=e.maxLength,R=void 0===E?null:E,V=e.autoFocus,$=void 0!==V&&V;return(0,s.jsxs)("div",{className:"".concat(""!==m?m:"mb-5"),children:[!N&&(0,s.jsx)("div",{className:"text-gray-600 mb-2",children:c}),(0,s.jsxs)("div",{className:"".concat(x," ").concat(_&&"relative flex justify-center items-center"),children:[!S&&(0,s.jsx)("input",{required:A,onClick:n,onChange:i,type:l,name:a,value:r&&r,className:"bg-cWhite border px-5 py-3 w-full outline-none rounded-md ".concat(v," focus:shadow-c6 focus:outline-none focus:border-cBrand "),placeholder:d,readOnly:b,minLength:L,autoFocus:$,maxLength:R}),S&&(0,s.jsx)("textarea",{name:a,required:A,onChange:i,value:r,className:"h-full w-full resize-none rounded-md outline-none px-5 py-3 border ".concat(v," focus:shadow-c6 focus:outline-none focus:border-cBrand"),rows:I,cols:T,placeholder:d,minLength:L,maxLength:R,autoFocus:$}),_&&(0,s.jsx)("div",{className:"absolute right-1 px-2 ".concat(k&&"border-l"," border-gray-300 text-gray-600 ").concat(g),children:_})]})]})}},80565:function(e,t,n){"use strict";var s=n(85893),i=n(11163),a=n(41664),r=n.n(a),o=n(47921),l=n(50458),c=n(18442),d=n(67294),u=n(2891),m=n(74995),f=n(31567);function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.Z=function(e){e=null!==e?e:function(e){throw e}(new TypeError("Cannot destructure undefined"));var t,n,a=(0,d.useState)(!1),r=a[0],v=a[1],p=(0,i.useRouter)(),g=(0,u.ZP)().user_profile_api_data,j=(0,m.ZP)(),b=j.setAddressSource,w=j.address_source,N=(0,f.$)().t,y=(0,u.sR)();return(0,d.useEffect)((function(){y=(0,u.sR)()}),[g]),(0,s.jsxs)("div",{className:"bg-white shadow h-screen w-[18rem] hidden md:block",children:[(0,s.jsxs)("div",{className:"pt-0",children:[(0,s.jsxs)("div",{onClick:function(){return p.push("/profile")},className:"py-5 flex items-center space-x-3 border-b mb-8 px-5 cursor-pointer",children:[(0,s.jsx)("div",{className:"bg-gray-400 h-8 w-8 relative overflow-hidden rounded-full",children:(0,s.jsx)("img",{className:"h-full w-full rounded-full",src:null!==(t=null===y||void 0===y?void 0:y.image_url)&&void 0!==t?t:"/Images/profile.png",alt:"Post Card Image",layout:"fill",objectFit:"cover"})}),(0,s.jsx)("div",{className:"text-md inline truncate w-3/4 ".concat("/profile"==p.pathname&&"text-cBrand font-bold"),children:null!==(n=null===y||void 0===y?void 0:y.name)&&void 0!==n?n:"NA"})]}),(0,s.jsxs)("div",{className:"flex flex-col justify-between space-y-4 text-md pb-3",children:[(0,s.jsx)(h,{title:N("Account Settings"),link:"/profile/account-settings"}),(0,s.jsx)(h,{onClick:function(){return b(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},s=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),s.forEach((function(t){x(e,t,n[t])}))}return e}({},w,{is_from_create:!1}))},title:N("Address Book"),link:"/profile/address-book"}),(0,s.jsx)(h,{title:N("Order History"),link:"/profile/order-history"}),(0,s.jsx)("div",{onClick:function(){return v(!0)},className:"p-2 px-5 cp",children:N("Logout")})]})]}),(0,s.jsx)(o.default,{show_modal:r,setShowModal:v,onConfirm:function(){try{localStorage.removeItem("postcard_token"),(0,c.Z)({token:null}),v(!1),p.push("/"),(0,l.C)({message:N("Logged out successfully!"),type:"success"})}catch(e){(0,l.C)({message:N("An error occurred!"),type:"error"})}}})]})};var h=function(e){var t=e.title,n=e.link,a=e.onClick,o=void 0===a?function(){}:a,l=(0,i.useRouter)();return(0,s.jsx)("div",{onClick:o,className:"p-2 px-5 cp ".concat(l.pathname=="".concat(n)&&"bg-cTintBrick text-cBrand font-fw600"),children:(0,s.jsx)(r(),{href:n,children:t})})}},95891:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});var s=n(85893),i=(n(67294),n(31567)),a=n(8293);function r(){var e=(0,a.ZP)().setIsVerificationFormNeeded,t=(0,i.$)().t;return(0,s.jsxs)("div",{className:"flex flex-col justify-center items-center space-y-5 w-full",children:[(0,s.jsx)("img",{className:"h-[160px] w-[160px]",src:"/Images/svg/verification_failed_state.svg",alt:"img"}),(0,s.jsxs)("div",{className:"text-fs20 font-fw600",children:[t("We are sorry"),"!!!"]}),(0,s.jsx)("div",{className:"text-fs16 font-fw500",children:t("Your identity information did not match with the system.")}),(0,s.jsx)("button",{type:"button",onClick:function(){return e(!0)},className:"mx-auto mt-2 px-10 py-2 bg-cBrand text-cWhite transition-all ease-in rounded-md text-sm md:text-base font-bold shadow",children:"Try Again"})]})}},59012:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var s=n(85893),i=n(67294),a=n(31567),r=n(8293),o=n(40519),l=function(e){e.onClick;var t=e.onChange,n=e.name,i=e.value,a=(e.type,e.label),r=(e.placeholder,e.className),o=void 0===r?"":r,l=e.className2,c=void 0===l?"":l,d=e.className3,u=void 0===d?"":d,m=(e.className4,e.is_readonly,e.no_label),f=void 0!==m&&m,x=e.icon,h=void 0===x?null:x,v=(e.pipe,e.textarea,e.rows,e.cols,e.required,e.minLength,e.options),p=void 0===v?[]:v;return(0,s.jsxs)("div",{className:"".concat(""!==o?o:"mb-5"),children:[!f&&(0,s.jsx)("div",{className:"font-fw500 text-fs16 text-cTitleTextColor mb-2",children:a}),(0,s.jsx)("div",{className:"".concat(c," ").concat(h&&"relative flex justify-center items-center"),children:(0,s.jsx)("select",{name:n,value:i,onChange:t,className:"bg-cWhite border px-5 py-3 w-full outline-none rounded-md ".concat(u," focus:shadow-c6 focus:outline-none focus:border-cBrand "),children:p.map((function(e,t){return(0,s.jsx)("option",{className:"font-fw500 text-fs16 text-cTitleTextColor",value:e.value,children:e.label},t)}))})})]})},c=n(18676);function d(e){e.setIsFormShow;var t=(0,r.ZP)(),n=t.verification_method,d=t.setVerificationMethod,u=t.front_image,m=t.back_image,f=t.setFrontImage,x=t.setBackImage,h=(0,i.useRef)(null),v=(0,i.useRef)(null),p=(0,a.$)().t,g=[{value:"mncard",label:p("My Number Card")},{value:"rcard",label:p("Residence Card")},{value:"driving",label:p("Driving License")},{value:"passport",label:p("Passport")}],j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"front";(0,o.y3)(e.target.files[0],(function(e){"front"===t?f(e):x(e)}))};return(0,s.jsxs)("form",{onSubmit:function(e){e.preventDefault(),(0,r.Y5)()},children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)(l,{options:g,name:n,label:p("Choose Verification Method"),onChange:function(e){return d(e.target.value)}}),(0,s.jsx)(c.default,{label:p("Front Side"),fileRef:h,image:u,onChange:function(e){return j(e,"front")},onClear:function(){f(null),h.current.value=null}}),(0,s.jsx)(c.default,{label:p("Back Side"),fileRef:v,image:m,onChange:function(e){return j(e,"back")},onClear:function(){x(null),v.current.value=null}})]}),(0,s.jsx)("div",{className:"x-center",children:(0,s.jsx)("button",{disabled:!u||!m,type:"submit",className:"mx-auto mt-2 px-10 py-2 ".concat(u&&m?"bg-cBrand text-white":"bg-cPlaceholder text-cTitleTextColor"," transition-all ease-in rounded-md text-sm md:text-base font-bold shadow"),children:p("Submit")})})]})}},18676:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});var s=n(85893),i=(n(67294),n(31567)),a=n(8193);function r(e){var t=e.label,n=e.fileRef,r=e.onChange,o=e.image,l=e.onClear,c=(0,i.$)().t;return(0,s.jsxs)("div",{className:"w-full flex flex-col justify-start space-y-5 items-center mb-5",children:[(0,s.jsx)("div",{className:"text-cTitleTextColor text-fs20 font-fw600 mb-2",children:t}),(0,s.jsx)("div",{onClick:function(){return o?{}:n.current.click()},className:"border border-cBrand border-dashed h-[210px] w-[330px] rounded-br10 flex flex-col justify-center items-center space-x-1 cp relative",children:o?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("img",{src:o,alt:"img",className:"h-full w-full rounded-br10 p-1"}),(0,s.jsx)(a.LHV,{onClick:l,className:"absolute top-0 right-0 h-6 w-6 cp"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("img",{src:"/Images/svg/image-upload.svg",alt:"img",height:40,width:40}),(0,s.jsxs)("div",{className:"text-cTitleTextColor text-fs16 font-fw600",children:[c("Upload")," ",t]}),(0,s.jsx)("div",{className:"text-cSecondaryBodyText text-fs12 font-fw400",children:c("Only jpg, png image")})]})}),(0,s.jsx)("input",{onChange:r,type:"file",accept:"image/png, image/jpg, image/jpeg",ref:n,style:{display:"none"}})]})}},68204:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var s=n(85893),i=(n(67294),n(31567));function a(){var e=(0,i.$)().t;return(0,s.jsxs)("div",{className:"flex flex-col justify-center items-center space-y-5 w-full",children:[(0,s.jsx)("img",{className:"h-[235px] w-[420px]",src:"/Images/svg/pending_verification_state.svg",alt:"img"}),(0,s.jsxs)("div",{className:"text-fs16 font-fw500",children:[e("Your identity information has been uploaded. Please wait 1-2 days to get the confirmation.")," "]})]})}},36119:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});var s=n(85893),i=(n(67294),n(31567)),a=n(8293);function r(){var e=(0,a.ZP)().setIsVerificationFormNeeded,t=(0,i.$)().t;return(0,s.jsxs)("div",{className:"flex flex-col justify-center items-center space-y-5 w-full",children:[(0,s.jsx)("img",{className:"h-[160px] w-[160px]",src:"/Images/svg/verified_state.svg",alt:"img"}),(0,s.jsxs)("div",{className:"text-fs20 font-fw600",children:[t("Congratulation"),"!"]}),(0,s.jsx)("div",{className:"text-fs16 font-fw500",children:t("Your identity has been verified")}),(0,s.jsx)("button",{type:"button",onClick:function(){return e(!0)},className:"mx-auto mt-2 px-10 py-2 bg-cBrand text-cWhite transition-all ease-in rounded-md text-sm md:text-base font-bold shadow",children:t("Update Identity")})]})}},63153:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var s=n(34051),i=n.n(s),a=n(85893),r=n(67294),o=n(30622),l=n(80565),c=function(e){var t=e.is_on,n=e.setIsOn;return(0,a.jsx)("div",{onClick:function(){n(!t)},className:"relative cp w-10 h-5 bg-gray-300 rounded-full",children:(0,a.jsx)("div",{className:"".concat(t?"translate-x-full":"translate-x-0"," ").concat(t?"bg-cBrand":"bg-[#000000]"," absolute-start transition ease-in w-5 h-5 rounded-full")})})},d=n(51649),u=n(2891),m=n(8193),f=n(9008),x=n(3167),h=n(31567),v=n(8293);function p(e,t,n,s,i,a,r){try{var o=e[a](r),l=o.value}catch(c){return void n(c)}o.done?t(l):Promise.resolve(l).then(s,i)}var g=function(){var e=(0,r.useState)(!1),t=e[0],n=e[1],s=(0,r.useState)(!1),g=s[0],j=s[1],b=(0,r.useState)(!1),w=b[0],N=b[1],y=(0,r.useState)(!1),_=y[0],C=y[1],k=(0,r.useState)(!1),F=k[0],S=k[1],P=(0,r.useState)(!1),I=P[0],B=P[1],T=(0,r.useState)(!1),O=T[0],A=T[1],Z=(0,v.ZP)(),L=Z.is_user_identity,E=Z.setIsUserIdentity,R=function(){return N(!w)},V=function(){return C(!_)},$=function(){return S(!F)},W=(0,h.$)().t,q=(0,u.ZP)(),D=q.change_password_form,M=q.user_profile_api_data,Y=q.changePasswordFormValue,G=q.resetChangePasswordFormValue,J=function(){var e,t=(e=i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("email"!=t){e.next=7;break}return e.next=3,(0,u.S)("email_notification");case 3:e.sent&&B(!I),e.next=11;break;case 7:return e.next=9,(0,u.S)("push_notification");case 9:e.sent&&A(!O);case 11:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(s,i){var a=e.apply(t,n);function r(e){p(a,s,i,r,o,"next",e)}function o(e){p(a,s,i,r,o,"throw",e)}r(void 0)}))});return function(e){return t.apply(this,arguments)}}();(0,r.useEffect)((function(){G(),(0,u.ck)(),U()}),[]),(0,r.useEffect)((function(){U();M.is_email_notification,M.is_push_notification}),[M]);var U=function(){var e=M.is_email_notification,t=M.is_push_notification;B(1===e),A(1===t)};return(0,a.jsxs)("div",{children:[(0,a.jsxs)(f.default,{children:[(0,a.jsx)("title",{children:"Account Settings"}),(0,a.jsx)("meta",{name:"description",content:"Post Card Printing"}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(l.Z,{}),(0,a.jsxs)("div",{className:"relative pt-7 w-full md:flex md:flex-col lg:flex-row md:space-y-10 lg:space-y-0 lg:space-x-10 md:m-10",children:[(0,a.jsxs)("div",{className:"md:static fixed transform  ".concat(t||g?"-translate-x-[14rem]":"translate-x-0"," md:translate-x-0 transition-all ease-in px-5 md:px-0 w-full md:w-auto"),children:[(0,a.jsx)("div",{className:"py-4 border-b mb-5 md:hidden flex items-center justify-between space-x-3",children:(0,a.jsx)("div",{className:"text-xl font-bold inline truncate",children:W("Account Settings")})}),(0,a.jsx)("div",{className:"md:w-[25rem]",children:(0,a.jsxs)("div",{className:"bg-blueGray-50 md:bg-white md:shadow p-0 md:p-6 md:max-w-2xl rounded-lg space-y-3",children:[(0,a.jsxs)("div",{onClick:function(){n(!0),E(!1)},className:"flex items-center justify-between py-2 px-0 md:px-4 ".concat(L?"md:bg-[#FAFAFF]":"md:bg-cTintBrick text-cBrand"," rounded-md cp"),children:[(0,a.jsx)("div",{className:"font-medium",children:W("Change Password")}),(0,a.jsx)(d.hjJ,{className:"text-lg text-gray-600"})]}),(0,a.jsxs)("div",{onClick:function(){E(!0),j(!0)},className:"flex items-center justify-between py-2 px-0 md:px-4 ".concat(L?"md:bg-cTintBrick text-cBrand":"md:bg-[#FAFAFF]"," rounded-md cp"),children:[(0,a.jsx)("div",{className:"font-medium",children:W("Verify Identity")}),(0,a.jsx)(d.hjJ,{className:"text-lg text-gray-600"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between py-2 px-0 md:px-4 md:bg-[#FAFAFF] rounded-md",children:[(0,a.jsx)("div",{className:"font-medium",children:W("Push Notification")}),(0,a.jsx)(c,{is_on:O,setIsOn:function(){return J("push")}})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between py-2 px-0 md:px-4 md:bg-[#FAFAFF] rounded-md",children:[(0,a.jsx)("div",{className:"font-medium",children:W("E-mail Notification")}),(0,a.jsx)(c,{is_on:I,setIsOn:function(){return J("email")}})]})]})})]}),L?(0,a.jsx)(x.default,{isFormShow:g,setIsFormShow:j}):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"md:static fixed transform  ".concat(t?"translate-x-0":"translate-x-[50rem]"," md:translate-x-0 transition-all ease-in px-5 md:px-0 w-full md:max-w-2xl"),children:(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)("form",{onSubmit:function(e){e.preventDefault(),(0,u.K7)()},children:(0,a.jsxs)("div",{className:"bg-blueGray-50 md:bg-white md:shadow p-0 md:p-6 max-w-2xl rounded-lg",children:[(0,a.jsx)("div",{className:"text-4xl font-semibold text-gray-800 mb-5 hidden md:block",children:W("Change Password")}),(0,a.jsxs)("div",{onClick:function(){return n(!1)},className:"py-4 border-b mb-5 md:hidden flex items-center space-x-3 cp",children:[(0,a.jsx)(d.u1R,{className:"text-lg text-gray-600"}),(0,a.jsx)("div",{className:"text-xl font-bold inline truncate",children:W("Change Password")})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(o.Z,{name:"old_password",value:D.old_password,onChange:Y,label:W("Current Password*"),type:w?"text":"password",minLength:6,required:!0,icon:w?(0,a.jsx)(m.w8I,{onClick:R,className:"h-[90%] text-xl cursor-pointer"}):(0,a.jsx)(m.p3W,{onClick:R,className:"h-[90%] text-xl cursor-pointer"}),autoFocus:!0}),(0,a.jsx)(o.Z,{name:"password",value:D.password,onChange:Y,label:W("New Password*"),type:_?"text":"password",minLength:6,icon:_?(0,a.jsx)(m.w8I,{onClick:V,className:"h-[90%] text-xl cursor-pointer"}):(0,a.jsx)(m.p3W,{onClick:V,className:"h-[90%] text-xl cursor-pointer"})}),(0,a.jsx)(o.Z,{name:"password_confirmation",value:D.password_confirmation,onChange:Y,label:W("Confirm New Password*"),type:F?"text":"password",required:!0,minLength:6,icon:F?(0,a.jsx)(m.w8I,{onClick:$,className:"h-[90%] text-xl cursor-pointer"}):(0,a.jsx)(m.p3W,{onClick:$,className:"h-[90%] text-xl cursor-pointer"})})]}),(0,a.jsx)("div",{className:"x-center",children:(0,a.jsx)("button",{type:"submit",className:"mx-auto mt-2 px-10 py-2 bg-cBrand text-white transition-all ease-in rounded-md text-sm md:text-base font-bold shadow",children:W("Save Changes")})})]})})})})})]})]})]})}},3167:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var s=n(85893),i=n(67294),a=n(31567),r=n(51649),o=n(8293),l=n(95891),c=n(59012),d=n(68204),u=n(36119);function m(e){var t=e.isFormShow,n=e.setIsFormShow,m=(0,o.ZP)(),f=m.verification_status,x=m.user_verification_info,h=m.setVerificationStatus,v=m.setIsVerificationFormNeeded,p=m.is_verification_form_needed,g=(0,a.$)().t;return(0,i.useEffect)((function(){v(!1),(0,o.P$)()}),[]),(0,i.useEffect)((function(){var e=JSON.parse(localStorage.getItem("gifty_user_verification_info"));null===e&&h("verify"),"pending"===(null===e||void 0===e?void 0:e.status)&&h("pending"),"verified"===(null===e||void 0===e?void 0:e.status)&&h("verified"),"not_verified"===(null===e||void 0===e?void 0:e.status)&&h("failed")}),[x]),(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"md:static ml-5 transform  ".concat(t?"translate-x-0":"translate-x-[50rem]"," md:translate-x-0 transition-all ease-in px-5 md:px-0 w-full md:max-w-2xl"),children:(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsxs)("div",{className:"bg-blueGray-50 md:bg-white md:shadow p-0 md:p-6 max-w-2xl rounded-lg",children:[(0,s.jsx)("div",{className:"text-4xl font-semibold text-gray-800 mb-5 hidden md:block",children:g("Identity Verification")}),(0,s.jsxs)("div",{onClick:function(){return n(!1)},className:"py-4 border-b mb-5 md:hidden flex items-center space-x-3 cp",children:[(0,s.jsx)(r.u1R,{className:"text-lg text-gray-600"}),(0,s.jsx)("div",{className:"text-xl font-bold inline truncate",children:g("Identity Verification")})]}),("verify"===f||p)&&(0,s.jsx)(c.default,{setIsFormShow:n}),"pending"===f&&!p&&(0,s.jsx)(d.default,{}),"failed"===f&&!p&&(0,s.jsx)(l.default,{}),"verified"===f&&!p&&(0,s.jsx)(u.default,{})]})})})})}},9008:function(e,t,n){e.exports=n(83121)}},function(e){e.O(0,[4617,9774,2888,179],(function(){return t=29413,e(e.s=t);var t}));var t=e.O();_N_E=t}]);